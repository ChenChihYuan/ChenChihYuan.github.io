<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"chenchihyuan.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="JimYuan&#39;s Blog">
<meta property="og:url" content="https://chenchihyuan.github.io/page/2/index.html">
<meta property="og:site_name" content="JimYuan&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="JimYuan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://chenchihyuan.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>JimYuan's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JimYuan's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Sharing the things I learned</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/07/05/Chaikin-s-Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/05/Chaikin-s-Algorithm/" class="post-title-link" itemprop="url">Chaikins_Algorithm</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-05 23:52:16" itemprop="dateCreated datePublished" datetime="2020-07-05T23:52:16+09:00">2020-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-06 23:39:54" itemprop="dateModified" datetime="2020-07-06T23:39:54+09:00">2020-07-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/uploads/Chaikin.gif" alt="OriginalTag"></p>
<p>From this week’s(2020/07/03) Parametric Camp, Professor Jose Luis García del Castillo y López  challenged us to do Chaikin’s Algorithm by ourselves.<br>I think it will be great if I made some notes about how I thought and my work here.</p>
<p>The code is pretty straight forward, some little thing might notice</p>
<ul>
<li>while iterating thought points, the index // should careful segmentation fault</li>
<li>Points in RhinoCommon can work like vector, this concept inherit from linear algebra, anyway this means you can multiple them <code>scale the vector</code></li>
</ul>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">List&lt;Point3d&gt; polyLinePts, <span class="built_in">int</span> iterNum, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    vertex = polyLinePts;</span><br><span class="line">    List&lt;Point3d&gt; smoothPts = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; iterNum ;i++)&#123;</span><br><span class="line">      smooth(vertex, <span class="keyword">ref</span> vertex);</span><br><span class="line">    &#125;</span><br><span class="line">    A = vertex;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// &lt;Custom additional code&gt; </span></span><br><span class="line">  List&lt;Point3d&gt; vertex;</span><br><span class="line">  <span class="comment">//Deal with one iteration</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">smooth</span>(<span class="params">List&lt;Point3d&gt; inputPts, <span class="keyword">ref</span> List&lt;Point3d&gt; resultPts</span>)</span>&#123;</span><br><span class="line">    List&lt;Point3d&gt; nextGen = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">    <span class="comment">// point 0 1 2 ... n</span></span><br><span class="line">    <span class="comment">// point 1 2 3 ... n-1</span></span><br><span class="line">    <span class="comment">// line  0 1 2 ... n</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; inputPts.Count - <span class="number">1</span>; i++)&#123;</span><br><span class="line">      Point3d oneFourth = inputPts[i] * <span class="number">0.25</span> + inputPts[i + <span class="number">1</span>] * <span class="number">0.75</span>;</span><br><span class="line">      Point3d threeFourth = inputPts[i] * <span class="number">0.75</span> + inputPts[i + <span class="number">1</span>] * <span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">      nextGen.Add(threeFourth);</span><br><span class="line">      nextGen.Add(oneFourth);</span><br><span class="line">    &#125;</span><br><span class="line">    resultPts = nextGen;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<p>Thing that I have not achieved,</p>
<ul>
<li>the endpoints are not included.</li>
<li>Have not tackled the <code>closed</code> polyline situation</li>
</ul>
<p>Some thought about Closed one, should deal with the iteration, especially the end point. LOL</p>
<p>We can also change the ratio(0.25, 0.75) to something else<br><img src="/uploads/Chaikin1.gif" alt="OriginalTag"></p>
<p>One thing can be noticed that there is always one point will converge to the original segment.<br>While iteration goes larger the point will be the middle point of the original segment.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/07/03/LineWeight/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/03/LineWeight/" class="post-title-link" itemprop="url">LineWeight</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-03 10:51:14" itemprop="dateCreated datePublished" datetime="2020-07-03T10:51:14+09:00">2020-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-04 00:23:53" itemprop="dateModified" datetime="2020-07-04T00:23:53+09:00">2020-07-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Here I would like to note the way to customize the self-defined line weight display in Grasshopper.</p>
<h2 id="Regular-Tag-dimension"><a href="#Regular-Tag-dimension" class="headerlink" title="Regular Tag/ dimension"></a>Regular Tag/ dimension</h2><p>Some readers might familir with the original <code>tag/dimension</code> components provided in Grasshopper.<br>A very simple demo picture is like these,</p>
<h3 id="Line-Dimension"><a href="#Line-Dimension" class="headerlink" title="Line Dimension"></a>Line Dimension</h3><p><img src="/uploads/Tag1.JPG" alt="OriginalTag"></p>
<h3 id="Aligned-Dimension"><a href="#Aligned-Dimension" class="headerlink" title="Aligned Dimension"></a>Aligned Dimension</h3><p><img src="/uploads/Tag2.JPG" alt="OriginalTag"><br>Little difference might be noticed, <code>alignmenet dimension</code> can offset the display lines.</p>
<h3 id="Line-Weight-Tag-Csharp-customized"><a href="#Line-Weight-Tag-Csharp-customized" class="headerlink" title="Line Weight + Tag (Csharp customized)"></a>Line Weight + Tag (Csharp customized)</h3><p><img src="/uploads/Tag3.JPG" alt="OriginalTag"></p>
<p><code>Tag</code></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">List&lt;Point3d&gt; Locations, List&lt;<span class="built_in">string</span>&gt; Descriptions, <span class="built_in">string</span> Font, <span class="built_in">int</span> Size, System.Drawing.Color Color, <span class="built_in">bool</span> Tag, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  clear_textdots();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(Tag)&#123;</span><br><span class="line">    <span class="keyword">var</span> attr = <span class="keyword">new</span> Rhino.DocObjects.ObjectAttributes();</span><br><span class="line">    attr.ColorSource = Rhino.DocObjects.ObjectColorSource.ColorFromObject;</span><br><span class="line">    attr.ObjectColor = Color;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; Locations.Count;i++)&#123;</span><br><span class="line">      <span class="keyword">var</span> tdot = create_textdot(Descriptions[i], Locations[i], Size, Font);</span><br><span class="line">      Rhino.RhinoDoc.ActiveDoc.Objects.AddTextDot(tdot, attr);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    clear_textdots();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TextDot <span class="title">create_textdot</span>(<span class="params"><span class="built_in">string</span> text_str, Point3d point, <span class="built_in">int</span> height, <span class="built_in">string</span> font</span>)</span>&#123;</span><br><span class="line">  height = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">var</span> textdot = <span class="keyword">new</span> TextDot(text_str, point);</span><br><span class="line">  <span class="keyword">if</span>(height &gt; <span class="number">0</span>)</span><br><span class="line">    textdot.FontHeight = height;</span><br><span class="line">  <span class="keyword">if</span>(font != <span class="literal">null</span>)</span><br><span class="line">    textdot.FontFace = font;</span><br><span class="line">  <span class="keyword">return</span> textdot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear_textdots</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> textdots = Rhino.RhinoDoc.ActiveDoc.Objects.FindByObjectType(Rhino.DocObjects.ObjectType.TextDot);</span><br><span class="line">  <span class="keyword">if</span>(textdots.Length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">foreach</span>(<span class="keyword">var</span> tdot <span class="keyword">in</span> textdots)&#123;</span><br><span class="line">      Rhino.RhinoDoc.ActiveDoc.Objects.Delete(tdot, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>Line Weight</code></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">List&lt;Polyline&gt; plns, System.Drawing.Color Color, List&lt;Point3d&gt; pts, <span class="built_in">int</span> width, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  pln = plns;</span><br><span class="line">  IList&lt;Point3d&gt; ipts = pts;</span><br><span class="line">  _clippingBox = <span class="keyword">new</span> BoundingBox(ipts);</span><br><span class="line">  _color = Color;</span><br><span class="line">  _width = width;</span><br><span class="line">  <span class="comment">//A = _clippingBox;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;Custom additional code&gt; </span></span><br><span class="line">List&lt;Polyline&gt; pln;</span><br><span class="line">Color _color;</span><br><span class="line"><span class="built_in">int</span> _width;</span><br><span class="line">BoundingBox _clippingBox;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BeforeRunScript</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  _clippingBox = BoundingBox.Empty;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">override</span> BoundingBox ClippingBox&#123;</span><br><span class="line">  <span class="keyword">get</span>&#123;<span class="keyword">return</span> _clippingBox;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">DrawViewportMeshes</span>(<span class="params">IGH_PreviewArgs args</span>)</span> &#123;</span><br><span class="line">  <span class="comment">//for (int i = 0 ; i &lt; limit; i++)</span></span><br><span class="line">  <span class="comment">//args.Display.DrawPoint(pts[i], Rhino.Display.PointStyle.Simple, 10, Color.FromArgb(100, 255 - i / 10, 255 - i / 10, 255 - i / 10));</span></span><br><span class="line">  <span class="keyword">foreach</span>(Polyline tmppln <span class="keyword">in</span> pln)</span><br><span class="line">    args.Display.DrawPolyline(tmppln, _color, _width);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>In the case of override the <code>DataTree(Point3d)</code>:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">DataTree&lt;Point3d&gt; points, List&lt;System.Drawing.Color&gt; colors, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    Bpoints = points;</span><br><span class="line">    Bcolor = colors;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &lt;Custom additional code&gt; </span></span><br><span class="line">  DataTree&lt;Point3d&gt; Bpoints = <span class="keyword">new</span> DataTree&lt;Point3d&gt;();</span><br><span class="line">  List&lt;Color&gt; Bcolor = <span class="keyword">new</span> List&lt;Color&gt;();</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">override</span> BoundingBox ClippingBox&#123;</span><br><span class="line">    <span class="keyword">get</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> BoundingBox(<span class="keyword">new</span> Point3d(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="keyword">new</span> Point3d(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">DrawViewportWires</span>(<span class="params">IGH_PreviewArgs args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>;i &lt; Bpoints.BranchCount;i++)&#123;</span><br><span class="line">      args.Display.DrawPoints(Bpoints.Branches[i], Rhino.Display.PointStyle.Circle, <span class="number">5</span>, Bcolor[j]);</span><br><span class="line">      <span class="comment">//args.Display.DrawPoints(,)</span></span><br><span class="line">      j++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/07/01/SweepLine/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/01/SweepLine/" class="post-title-link" itemprop="url">SweepLine</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-01 01:58:52 / Modified: 03:00:44" itemprop="dateCreated datePublished" datetime="2020-07-01T01:58:52+09:00">2020-07-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=nNtiZM-j3Pk&list=PLubYOWSl9mItBLmB2WiFU0A_WINUSLtGH&index=1">SweepLineSeries</a></p>
<h1 id="Line-Segment-Intersection"><a href="#Line-Segment-Intersection" class="headerlink" title="Line-Segment Intersection"></a>Line-Segment Intersection</h1><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Given a set <strong>S</strong> of <em>n closed</em> non-overlapping line segments in the plane, compute…</p>
<ul>
<li>all points where at least two segments intersect and</li>
<li>for each such point report all segments that contain it.</li>
</ul>
<ol>
<li>Brute Force, takes $O(n^2)$</li>
<li>Process segments <code>top-to-bottom</code> using a <code>sweep line</code>.</li>
</ol>
<p>Consider when we should do something while using sweepLine algorithm</p>
<ol>
<li>SweepLine touch the endpoint</li>
<li>SweepLine touch(identify) the intersection point</li>
</ol>
<h2 id="Event-Points"><a href="#Event-Points" class="headerlink" title="Event Points"></a>Event Points</h2><ul>
<li>Endpoints on the segments</li>
<li>intersection points</li>
</ul>
<p>Once the SweepLine run over the intersection point, should reconsider the possible intersect pair(<em>neighbor</em>) situation.</p>
<h2 id="DataStructure-For-Event-Points-queue-Q"><a href="#DataStructure-For-Event-Points-queue-Q" class="headerlink" title="DataStructure For Event Points queue Q"></a>DataStructure For Event Points <code>queue Q</code></h2><p>When we think about situable data structure to tackle this problem should consider,<br>The data structure should fit </p>
<ol>
<li>can easily find the top most point</li>
<li>can insert new event point while finding the intersection points, in run time.</li>
</ol>
<p>Store event points in <strong>balanced binary search tree</strong> </p>
<h2 id="SweepLine-status-T"><a href="#SweepLine-status-T" class="headerlink" title="SweepLine status T"></a>SweepLine <code>status T</code></h2><p>When segments intersect to the SweepLine, we want them be ordered from left to right.</p>
<ol>
<li>easily add/reomove a segment</li>
<li>swap the segment order, happen right after the intersection point found</li>
</ol>
<h1 id="Pseudo-code"><a href="#Pseudo-code" class="headerlink" title="Pseudo-code"></a>Pseudo-code</h1><p>findIntersections(S)</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input:"></a>Input:</h2><p>set S of n non-overlapping closed line segments</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output:"></a>Output:</h2><ul>
<li>set <em>I</em> of intersection points</li>
<li>for each $p \in I$ every $s \in S$ with $p \in s$</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/26/Parition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/26/Parition/" class="post-title-link" itemprop="url">Parition</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-26 23:26:40" itemprop="dateCreated datePublished" datetime="2020-06-26T23:26:40+09:00">2020-06-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-06 00:08:48" itemprop="dateModified" datetime="2021-02-06T00:08:48+09:00">2021-02-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>There are 2 goals of partitions into convex pieces</p>
<ol>
<li>parition a polygon into as few convex pieces as possible </li>
<li>do so as quickly as possible</li>
</ol>
<p>Two types of partition of a polygon <code>P</code> may be distingusihed</p>
<ol>
<li>a partition by <code>diagonals</code>   (endpoints must be vertices)</li>
<li>a partition by <code>segments</code>    (endpoints need lie on $\partial P$)</li>
</ol>
<p>The distinction is that diagonal endpoints must be <strong>vertices</strong>, whereas segment endpoints need lie on $\partial P$</p>
<h2 id="Optimum-Partition"><a href="#Optimum-Partition" class="headerlink" title="Optimum Partition"></a>Optimum Partition</h2><p>To evalute the efficiency of partitions, it is useful to have bounds on the best possible partition.</p>
<h3 id="Theorem-2-5-1-Chazelle"><a href="#Theorem-2-5-1-Chazelle" class="headerlink" title="Theorem 2.5.1(Chazelle)"></a>Theorem 2.5.1(Chazelle)</h3><p>Let $\phi$ be the fewest number of convex pieces into which a polygon may be partitioned.<br>For a polygon of <strong>r reflex vertices</strong>,<br>$$\frac{r}{2}+1 \leq \phi \leq r+1$$</p>
<p><strong>Reflex vertice</strong>:<br>In a polygon, a vertex is called “<strong>convex</strong>“ if the internal angle of the polygon is less the $\pi$ randians; otherwise, it is called “<strong>concave</strong>“ or “<strong>reflex</strong>“</p>
<h3 id="Hertel-and-Mehlhorn-Algorithm"><a href="#Hertel-and-Mehlhorn-Algorithm" class="headerlink" title="Hertel and Mehlhorn Algorithm"></a>Hertel and Mehlhorn Algorithm</h3><p>Hertel &amp; Melhorn (1983) found a very clean algorithm that <strong>partitions with diagonals</strong> quickly and has bounded “badness” in terms of the number of convex pieces.<br>In some convex partition of a polygon by <strong>diagonals</strong>, call a diagonal <code>d</code> is essential vertex <code>v</code> if removal of <code>d</code> creates a piece that is nonconvex at <code>v</code>.<br>Clearly if <code>d</code> is essential it must be incident to <code>v</code>, and <code>v</code> must be <strong>reflexed</strong>.<br>A diagonal that is not essential for either of its endpoints is called <strong>inessential</strong> </p>
<p>Hertel and Mehlhorn’s algorithm is simply this:<br>Satrt with a trinagulation of P; remove an inessential diagonal; repeat.<br>Clearly this algorithm results in a partition of P by diagonals into convex pieces.<br>It can be accomplished in <strong>linear time</strong> with the use of appropriate data structure. So the only issue is how far from the optimum might it be.</p>
<h2 id="Lemma-2-5-2"><a href="#Lemma-2-5-2" class="headerlink" title="Lemma 2.5.2"></a>Lemma 2.5.2</h2><blockquote>
<p>There can be at most <strong>two diagonals</strong> essential for any reflex vertex</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=IkA-2Y9lBvM&list=PLubYOWSl9mItnLTDrmr9D38AJ7EO1PWbN&index=3">Philipp Kindermann</a></p>
<h1 id="Part-a-Polygon-into-Monotone-Pieces"><a href="#Part-a-Polygon-into-Monotone-Pieces" class="headerlink" title="Part. a Polygon into Monotone Pieces"></a>Part. a Polygon into Monotone Pieces</h1><p>Idea: Classify vertices of given simple polygon P</p>
<ul>
<li>turn vertices:<ul>
<li>start vertex</li>
<li>split vertex</li>
<li>end vertex</li>
<li>merge vertex</li>
</ul>
</li>
<li>regular vertices</li>
</ul>
<h2 id="Lemma"><a href="#Lemma" class="headerlink" title="Lemma."></a>Lemma.</h2><blockquote>
<p>Let <em>P</em> be a simple polygon. Then P is y-monotone &lt;-&gt; P has neither split vertices nor merge vertices</p>
</blockquote>
<p>The idea here is try to <strong>destory</strong> </p>
<ol>
<li>split vertices</li>
<li>merge vertices</li>
</ol>
<p>Problem: Diagonals must not cross </p>
<ul>
<li>each other </li>
<li>edges of P</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/24/IsoVist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/24/IsoVist/" class="post-title-link" itemprop="url">IsoVist</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-06-24 02:55:00 / Modified: 22:44:31" itemprop="dateCreated datePublished" datetime="2020-06-24T02:55:00+09:00">2020-06-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>可能大家有接觸過用Grasshopper作環境分析，那可能會知道<code>Isovist</code>這個方便的component。從下面看到這Component可以幫助決定<strong>視野範圍</strong>。<br><img src="/uploads/IsoVistDefault.gif" alt="Orientation"></p>
<blockquote>
<p>原理很簡單就是2D的圓看根最近的建築物交界到哪裡。</p>
</blockquote>
<p>建築物的線我是透過<code>Elk</code>放入OpenStreetMap達成的。可以參考一下<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=EJ5_0dQiKPc&t=411s">OSM_Through_Elk</a><br>或是我的方式:<br><img src="/uploads/IsoVist.jpg" alt="Orientation"></p>
<h1 id="Csharp-code"><a href="#Csharp-code" class="headerlink" title="Csharp code"></a>Csharp code</h1><p>我意外看到這篇討論，想說自己也來實作一下用C#做一個IsoVist之後討論一下怎麼加速，跟後續可能可以玩的方向<br><a target="_blank" rel="noopener" href="https://discourse.mcneel.com/t/isovist-optimization/103024/4">IsoVist_Optimization</a><br>而我自己的Code</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">Point3d PlanePt, <span class="built_in">int</span> Count, <span class="built_in">int</span> Radius, List&lt;Polyline&gt; ObsCrv, <span class="keyword">ref</span> <span class="built_in">object</span> Points, <span class="keyword">ref</span> <span class="built_in">object</span> C, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    List&lt;Point3d&gt; pts = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">    Circle cir = <span class="keyword">new</span> Circle(PlanePt, Radius);</span><br><span class="line">    Curve CirCrv = cir.ToNurbsCurve();</span><br><span class="line">    Point3d[] CirPts;</span><br><span class="line">    <span class="built_in">double</span>[] CirPts_double = CirCrv.DivideByCount(Count, <span class="literal">true</span>, <span class="keyword">out</span> CirPts);</span><br><span class="line">    List&lt;Point3d&gt; result_net = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; Count; k++)&#123;</span><br><span class="line">      Line ln = <span class="keyword">new</span> Line(PlanePt, CirPts[k]);</span><br><span class="line">      List&lt;Point3d&gt; ln_Pts = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">      <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; ObsCrv.Count; i++)&#123;</span><br><span class="line">        Line[] segs = ObsCrv[i].GetSegments();</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; segs.Length; j++)&#123;</span><br><span class="line">          <span class="built_in">double</span> a;</span><br><span class="line">          <span class="built_in">double</span> b;</span><br><span class="line">          Intersection.LineLine(ln, segs[j], <span class="keyword">out</span> a, <span class="keyword">out</span> b, <span class="number">0.00000001</span>, <span class="literal">true</span>);</span><br><span class="line">          <span class="keyword">if</span>(Intersection.LineLine(ln, segs[j], <span class="keyword">out</span> a, <span class="keyword">out</span> b, <span class="number">0.00000001</span>, <span class="literal">true</span>))&#123;</span><br><span class="line">            ln_Pts.Add(segs[j].PointAt(b));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      Point3d closest_pt;</span><br><span class="line">      <span class="keyword">if</span>(ln_Pts.Count &gt; <span class="number">0</span>)</span><br><span class="line">        closest_pt = Point3dList.ClosestPointInList(ln_Pts, PlanePt);</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">        closest_pt = CirPts[k];</span><br><span class="line">      &#125;</span><br><span class="line">      result_net.Add(closest_pt);</span><br><span class="line">    &#125;</span><br><span class="line">    A = result_net;</span><br><span class="line">    C = CirPts;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="演算法的想法"><a href="#演算法的想法" class="headerlink" title="演算法的想法"></a>演算法的想法</h2><ul>
<li>平分個一個以人為圓點的圓，分成Count分</li>
<li>用圓點跟在圓周上的點連線<code>ln</code> 和 每個建築物的牆壁<code>segs[j]</code>找相交點</li>
<li>有兩個以上交點的話找離圓點最近的，沒有跟建築物相交的話 回傳圓周上的點</li>
</ul>
<h2 id="關於LineLine的相交"><a href="#關於LineLine的相交" class="headerlink" title="關於LineLine的相交"></a>關於LineLine的相交</h2><p>在部落格我分別寫了兩篇(2D/3D)的線與線相交的判定。<br>三維的線與線相交其實是看<code>兩條線的最短距離&lt;容許值</code></p>
<p>ParametricCamp有比較完整的介紹<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=iZdAJ2CwmCk">Computational Design Live Stream #14</a></p>
<p>論壇po文想達成的是盡量加速這個運算，之後我也能往那方向想，目前是跟Component效能差不多<br><img src="/uploads/IsoVist_Performance.JPG" alt="Orientation"></p>
<ul>
<li>目前的想到的想法是可以先對那些牆壁的line以角度sort過一遍，應該可以加速一個<code>for-loop</code></li>
<li><h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><img src="/uploads/IsoVistJim.gif" alt="Orientation"></li>
</ul>
<h1 id="可能的發展"><a href="#可能的發展" class="headerlink" title="可能的發展"></a>可能的發展</h1><h3 id="加速"><a href="#加速" class="headerlink" title="加速"></a>加速</h3><p>加速的理由有很多，</p>
<ol>
<li>為了一次分析多一點人</li>
<li>讓計算時間變短-Real time result</li>
</ol>
<h3 id="導入Magnetic-field"><a href="#導入Magnetic-field" class="headerlink" title="導入Magnetic field"></a>導入Magnetic field</h3><p>在Grasshopper裡面有Fields對人流動線的分析應該會很有幫助<br>有興趣可以看看這個<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=zSI1StT07LM">https://www.youtube.com/watch?v=zSI1StT07LM</a></p>
<h3 id="扇形視野"><a href="#扇形視野" class="headerlink" title="扇形視野"></a>扇形視野</h3><p>最後可能可以分析的是更接近真實的視野，不是360度。轉成170之類的。<br><img src="/uploads/GettingLost.gif" alt="Orientation"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/16/EventAndDelegates/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/16/EventAndDelegates/" class="post-title-link" itemprop="url">EventAndDelegates</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-06-16 15:31:13 / Modified: 21:34:49" itemprop="dateCreated datePublished" datetime="2020-06-16T15:31:13+09:00">2020-06-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=jQgwEsJISy0">Resource</a></p>
<h1 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h1><ul>
<li>A mechanism for communication between objects</li>
<li>Used in building <code>Loosely Coupled Applications</code></li>
<li>Helps extending applications</li>
</ul>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoEncoder</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Encode</span>(<span class="params">Video video</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// Encoding logic</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">        _mailService.Send(<span class="keyword">new</span> Mail());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>but, in the future, if we want to send <strong>text</strong> message to the video owner.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoEncoder</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Encode</span>(<span class="params">Video video</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// Encoding logic</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">        _mailService.Send(<span class="keyword">new</span> Mail());</span><br><span class="line">        </span><br><span class="line">        _messageService.Send(<span class="keyword">new</span> Text());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>but if we do it this way, the whole <strong>Encode() method</strong> will need to be recompiled, and the class depends on this function, will need to be recompiled and redeploied.</p>
<blockquote>
<p>We want to design our application such that when you want to change that, it changes the minimum impact on the application</p>
</blockquote>
<p>We can use <code>Event</code> to deal with this problem.</p>
<h1 id="How-we-do-event-in-this-case"><a href="#How-we-do-event-in-this-case" class="headerlink" title="How we do event in this case"></a>How we do event in this case</h1><ul>
<li>VideoEncoder<ol>
<li>publisher</li>
<li>event sender</li>
</ol>
</li>
<li>MailService<ol>
<li>Subscriber</li>
<li>event receiver</li>
</ol>
</li>
</ul>
<p>So, in future.</p>
<ul>
<li>MessageService<ol>
<li>Subscriber</li>
<li>event receiver </li>
</ol>
</li>
</ul>
<h2 id="Main-changes"><a href="#Main-changes" class="headerlink" title="Main changes"></a>Main changes</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoEncoder</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Encode</span>(<span class="params">Video video</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// Encoding logic</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">        OnVideoEncoded();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>OnVidoEncoded()</code> method simply notify the subscribers.</p>
<blockquote>
<p><strong>VideoEncoder</strong> knows absoulately nothing about the <strong>MailService</strong> and <strong>MessageService</strong> or any other subscribers.<br>They(subscribers) can come later, and we can add more subscribers.</p>
</blockquote>
<h2 id="One-Question-Raise-How-VideoEncoder-publisher-notify-its-subscribers"><a href="#One-Question-Raise-How-VideoEncoder-publisher-notify-its-subscribers" class="headerlink" title="One Question Raise: How VideoEncoder(publisher) notify its subscribers"></a>One Question Raise: How VideoEncoder(publisher) notify its subscribers</h2><p>We need an agreement or contract between publisher and its subscribers.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnVideoEncoded</span>(<span class="params"><span class="built_in">object</span> source, EventArgs e</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This is a very typical implementation of method in the <code>subscribers</code>, and it is called <code>EventHandler</code>.<br>This is also the method which called by the <strong>publisher</strong> when the event is raised.</p>
<p>Again, VideoEncoder(<strong>Event Publisher</strong>) do not know the existence of its publishers. Publisher <strong>decoupled</strong> from them(subscribers).<br>All the <strong>publisher</strong> knows, is a method(<strong>EventHandler</strong>).</p>
<h2 id="How-do-you-tell-VideoEncoder-Publisher-what-method-to-call"><a href="#How-do-you-tell-VideoEncoder-Publisher-what-method-to-call" class="headerlink" title="How do you tell VideoEncoder(Publisher) what method to call?"></a>How do you tell VideoEncoder(Publisher) what method to call?</h2><p>That’s where a <code>Delegate</code> comes in.</p>
<h1 id="Delegates"><a href="#Delegates" class="headerlink" title="Delegates"></a>Delegates</h1><ul>
<li>Agreement/ Contract between Publisher and Subscriber</li>
<li>Determines the <strong>signature</strong> of the event handler method in Subscriber</li>
</ul>
<ol>
<li>Define a <strong>delegate</strong></li>
<li>Define an event based on that delegate</li>
<li>Raise the event</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">VideoEncodedEventHandler</span>(<span class="params"><span class="built_in">object</span> source, EventArgs args</span>)</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>object source</code> : source of that event</li>
<li><code>EventArgs args</code>: any additional data we want to send to the event</li>
</ul>
<p>Here we declare an <strong>event</strong>, which hold a <strong>reference to a function</strong>, look like </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">VideoEncodedEventHandler</span>(<span class="params"><span class="built_in">object</span> source, EventArgs args</span>)</span>;</span><br></pre></td></tr></table></figure>

<h1 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h1><h2 id="Program-cs"><a href="#Program-cs" class="headerlink" title="Program.cs"></a>Program.cs</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EventsAndDelegates</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> video = <span class="keyword">new</span> Video() &#123; Title = <span class="string">&quot;Video 1&quot;</span> &#125;;</span><br><span class="line">            <span class="keyword">var</span> videoEncoder = <span class="keyword">new</span> VideoEncoder();          <span class="comment">// publisher</span></span><br><span class="line">            <span class="keyword">var</span> mailService = <span class="keyword">new</span> MailService();            <span class="comment">// subscriber</span></span><br><span class="line">            <span class="keyword">var</span> messageSerive = <span class="keyword">new</span> MessageService();       <span class="comment">// subscriber</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            videoEncoder.VideoEncoded += mailService.OnVideoEncoded;  <span class="comment">// VideoEncoded event behind the scene, is a list of function pointers. OnVideoEncoded is the function pointer</span></span><br><span class="line">            videoEncoder.VideoEncoded += messageSerive.OnVideoEncoded;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            videoEncoder.Encode(video);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Video-cs"><a href="#Video-cs" class="headerlink" title="Video.cs"></a>Video.cs</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EventsAndDelegates</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Video</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Title &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="VideoEncoder-cs"><a href="#VideoEncoder-cs" class="headerlink" title="VideoEncoder.cs"></a>VideoEncoder.cs</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Threading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EventsAndDelegates</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoEventArgs</span> : <span class="title">EventArgs</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> Video Video &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoEncoder</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 1- Define a delegate</span></span><br><span class="line">        <span class="comment">// 2- Define an event based on that delegate</span></span><br><span class="line">        <span class="comment">// 3- Raise the event</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">VideoEncodedEventHandler</span>(<span class="params"><span class="built_in">object</span> source, VideoEventArgs args</span>)</span>;      <span class="comment">// 1. define a delegate</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> VideoEncodedEventHandler VideoEncoded;                                     <span class="comment">// 2. define an event based on the delegate</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> EventHandler&lt;VideoEventArgs&gt; VideoEncoding;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Encode</span>(<span class="params">Video video</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Encoding Video...&quot;</span>);</span><br><span class="line">            Thread.Sleep(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">            OnVideoEncoded(video);                                                              <span class="comment">// 3. Raise the event</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnVideoEncoded</span>(<span class="params">Video video</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (VideoEncoded != <span class="literal">null</span>)</span><br><span class="line">                VideoEncoded(<span class="keyword">this</span>, <span class="keyword">new</span> VideoEventArgs() &#123; Video = video &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MailService-cs"><a href="#MailService-cs" class="headerlink" title="MailService.cs"></a>MailService.cs</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EventsAndDelegates</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MailService</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnVideoEncoded</span>(<span class="params"><span class="built_in">object</span> source, VideoEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;MailService: Sending an email...&quot;</span> + e.Video.Title);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MessageService-cs"><a href="#MessageService-cs" class="headerlink" title="MessageService.cs"></a>MessageService.cs</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EventsAndDelegates</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MessageService</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnVideoEncoded</span>(<span class="params"><span class="built_in">object</span> source, VideoEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;MessageService: Sending a text message...&quot;</span> + e.Video.Title);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p><img src="/uploads/Delegate1.JPG" alt="idea"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/15/Custom-Attribute-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/15/Custom-Attribute-note/" class="post-title-link" itemprop="url">Custom_Attribute_note</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-15 18:28:43" itemprop="dateCreated datePublished" datetime="2020-06-15T18:28:43+09:00">2020-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-19 02:05:59" itemprop="dateModified" datetime="2020-06-19T02:05:59+09:00">2020-06-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.grasshopper3d.com/forum/topics/clarification-about-gh-component-gh-param-and-gh-attributes">clarification_about_IGH</a></p>
<blockquote>
<p>All objects that want to be part of a GH_Document must implement the <code>IGH_DocumentObject</code> <strong>interface</strong>.</p>
</blockquote>
<p>This interface provides <strong>core methods</strong> needed for all objects</p>
<ol>
<li>Undo</li>
<li>Autosave</li>
<li>Display</li>
<li>Menu</li>
<li>Tooltip</li>
</ol>
<p><code>IGH_ActiveObject</code> extends upon <code>IGH_DocumentObject</code> and it provides methods for participating in the solution.</p>
<h2 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h2><p>Parameters(via the <code>IGH_Param</code> interface and several <code>GH_Param&lt;T&gt;</code> classes) maintain a data tree which is associated with a special type of <code>IGH_Goo</code> data. They have the logic build in that allows them to communicate with other parameters via their input/output wires.</p>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><p>Components tend to drive from GH_Component(or at the very least implemeny <code>IGH_Component</code>), as that class provides all the bookkeeping methods for managing a collection of input and output parameters.</p>
<h2 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h2><p>Attributes are used primary for <strong>display purposes</strong>. Every object must be capable of creating and maintaining a class which ultimately implements <code>IGH_Attributes</code>. The attributes are in charge of </p>
<ol>
<li>rendering the object to the canvas </li>
<li>providing basic information about the shape of an object</li>
<li>handling mouse and key events</li>
<li>responding correctly to selection actions</li>
<li>maintaining the object hierarchy (Basically, it means that component attributes must be able to <strong>talk</strong> to input and output parameters, and the parameters need to be able to figure out they are slaved to a component.)</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://developer.rhino3d.com/api/grasshopper/html/8a7974ab-7b2b-4f48-84d0-6e81b184e6b0.htm">Custom Attribute SDK</a><br>Objects on the Grasshopper canvas consist of <strong>two part</strong>.<br>The most important piece is the class that implements the <code>IGH_DocumentObject</code>  interface.<br>This interface provides the basic <strong>plumbing</strong> needed to make objects work within <strong>a Grasshopper node network.</strong></p>
<p>The interface part of objects however is handled seperately.</p>
<p>Every <code>IGH_DocumentObject</code> carries around an instance of a class that implements the <code>IGH_Attriibutes</code> interface(indeed, every IGH_DocumentOBject knows how to create its own stand-alone attributes).</p>
<p>It is not possible to have an <code>IGH_Attributes</code> instance work on its own, we need an <code>IGH_DocoumentObject</code> to tie it to.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/13/SQL_overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/13/SQL_overview/" class="post-title-link" itemprop="url">SQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-06-13 11:50:43 / Modified: 17:15:34" itemprop="dateCreated datePublished" datetime="2020-06-13T11:50:43+09:00">2020-06-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><p>Structured Query Langauge</p>
<blockquote>
<p>SQL is a programming language used to talk to the databases</p>
</blockquote>
<h2 id="Databases-that-use-SQL"><a href="#Databases-that-use-SQL" class="headerlink" title="Databases that use SQL"></a>Databases that use SQL</h2><ol>
<li>SQL server</li>
<li>Oracle</li>
<li>MySQL</li>
<li>Postgre SQL</li>
<li>SQLite</li>
<li>DB2</li>
<li>BigData</li>
</ol>
<h2 id="Tools-to-write-SQL"><a href="#Tools-to-write-SQL" class="headerlink" title="Tools to write SQL"></a>Tools to write SQL</h2><ol>
<li>SQL Server Management Studio (SSMS)</li>
<li>SQL Developer</li>
<li>SQL Workbench</li>
<li>TOAD</li>
</ol>
<h1 id="Create-Database"><a href="#Create-Database" class="headerlink" title="Create Database"></a>Create Database</h1><hr>
<h1 id="What-is-a-Database-DB"><a href="#What-is-a-Database-DB" class="headerlink" title="What is a Database(DB)?"></a>What is a Database(DB)?</h1><h2 id="any-collection-of-related-information"><a href="#any-collection-of-related-information" class="headerlink" title="any collection of related information"></a>any collection of related information</h2><ul>
<li>Phone Book</li>
<li>Shopping list</li>
<li>Todo list</li>
<li>Your 5 best friends</li>
<li>Facebook’s User Base</li>
</ul>
<h2 id="Database-can-be-stored-in-different-ways"><a href="#Database-can-be-stored-in-different-ways" class="headerlink" title="Database can be stored in different ways"></a>Database can be stored in different ways</h2><ul>
<li>On paper</li>
<li>In your mind</li>
<li>On a computer</li>
<li>This powerpoint</li>
<li>Comment Section</li>
</ul>
<h2 id="Computers-Databases-lt-3"><a href="#Computers-Databases-lt-3" class="headerlink" title="Computers + Databases = &lt;3"></a>Computers + Databases = &lt;3</h2><h3 id="Amazon-com"><a href="#Amazon-com" class="headerlink" title="Amazon.com"></a>Amazon.com</h3><ul>
<li>Keeps track of Products, Reviews, Purchase Orders, Credit Cards…etc</li>
<li>Information is extremely valuable and critical to Amazon.com’s functioning</li>
<li>Security is essential</li>
</ul>
<blockquote>
<p>Computers are great at keeping track of large amounts of information</p>
</blockquote>
<h1 id="Database-Managemeny-Systems-DBMS"><a href="#Database-Managemeny-Systems-DBMS" class="headerlink" title="Database Managemeny Systems(DBMS)"></a>Database Managemeny Systems(DBMS)</h1><ul>
<li>A special software program that hekps users create and maintain a database.<ul>
<li>Make it easy to manage large amounts of information</li>
<li>Handle Security</li>
<li>Backups</li>
<li>Importing/Exporting data</li>
<li>Concurrency</li>
<li>Interacts with software applications<ul>
<li>Programming Languages</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Amazon.com will interact with the <strong>DBMS</strong> in order to create, read, update and delete information.</p>
</blockquote>
<h1 id="C-R-U-D"><a href="#C-R-U-D" class="headerlink" title="C.R.U.D"></a>C.R.U.D</h1><ul>
<li>Create</li>
<li>Read</li>
<li>Update</li>
<li>Delete</li>
</ul>
<h1 id="Two-Types-of-Databases"><a href="#Two-Types-of-Databases" class="headerlink" title="Two Types of Databases"></a>Two Types of Databases</h1><h2 id="Rational-Databases-SQL"><a href="#Rational-Databases-SQL" class="headerlink" title="Rational Databases(SQL)"></a>Rational Databases(SQL)</h2><ul>
<li>Organize data into one or more tables<ul>
<li>Each table has columns and rows</li>
<li>A unique key identifies each row</li>
</ul>
</li>
</ul>
<h2 id="Non-Retional-noSQL-not-just-SQL"><a href="#Non-Retional-noSQL-not-just-SQL" class="headerlink" title="Non-Retional(noSQL/ not just SQL)"></a>Non-Retional(noSQL/ not just SQL)</h2><ul>
<li>Organize data is anything but a tranditional table<ul>
<li>Key-value stores</li>
<li>Documents(JSON, XML, etc)</li>
<li>Graphs</li>
<li>Flexible Table</li>
</ul>
</li>
</ul>
<h2 id="Relational-Databases-SQL"><a href="#Relational-Databases-SQL" class="headerlink" title="Relational Databases(SQL)"></a>Relational Databases(SQL)</h2><h3 id="Student-Table"><a href="#Student-Table" class="headerlink" title="Student Table"></a>Student Table</h3><table>
<thead>
<tr>
<th>ID#</th>
<th>Name</th>
<th>Major</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Jack</td>
<td>Biology</td>
</tr>
<tr>
<td>2</td>
<td>Kate</td>
<td>Sociology</td>
</tr>
<tr>
<td>3</td>
<td>Claire</td>
<td>English</td>
</tr>
<tr>
<td>4</td>
<td>John</td>
<td>Chemistry</td>
</tr>
</tbody></table>
<h3 id="User-Table"><a href="#User-Table" class="headerlink" title="User Table"></a>User Table</h3><table>
<thead>
<tr>
<th>UserName</th>
<th>Password</th>
<th>Email</th>
</tr>
</thead>
<tbody><tr>
<td>jsmith22</td>
<td>wordpass</td>
<td></td>
</tr>
<tr>
<td>catlover45</td>
<td>apple223</td>
<td></td>
</tr>
<tr>
<td>gamerkid</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p>Retional Database Management Systems(RDBMS)</p>
<ul>
<li>Help users create and maintain a relational database<ul>
<li>mySQL, Oracle, postgreSQL, mariaDB, etc.</li>
</ul>
</li>
</ul>
</li>
<li><p>Structed Query Language(SQL)</p>
<ul>
<li>Standardized language for interacting with RDBMS</li>
<li>Used to perfrom <code>C.R.U.D</code> operations, as well as other administrative tasks(user management, security, backup, etc)</li>
<li>Used to define tables and structures</li>
<li>SQL code used on one RDBMS is not always portable to another without modification</li>
</ul>
</li>
<li><p>Non-Relational Databases</p>
<ul>
<li>Non-Relational Database Management Systems(NRDBMS)<ul>
<li>Help users create and maintain a non-relational database<ul>
<li>mongoDB, dynamoDB, apache, cassandra, firebase,etc</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Implementation Specific</p>
<ul>
<li>Any non-relational database falls under this category, so there’s no set language standard</li>
<li>Most NRDBMS will implement their own language for performing <code>C.R.U.D</code> and administrative operations on the database</li>
</ul>
</li>
</ul>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><h2 id="Warp-up"><a href="#Warp-up" class="headerlink" title="Warp up"></a>Warp up</h2><ul>
<li>Database is any collection of related information</li>
<li>Computer are great for storing databases</li>
<li>Database Management Systems(DBMS) make it easy to create, maintain and secure a database.</li>
<li>DBMS allows you to perform the C.R.U.D operations and other administrative tasks</li>
<li>two types of Database, <code>Relational</code> &amp; <code>Non-Relational</code></li>
<li>Relational databases uses SQL and store data in tables with rows and columns</li>
<li>Non-Relational data store data using other data structures</li>
</ul>
<hr>
<table>
<thead>
<tr>
<th>student_id</th>
<th align="center">name</th>
<th align="right">major</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td align="center">Kate</td>
<td align="right">Sociology</td>
</tr>
<tr>
<td>2</td>
<td align="center">Jack</td>
<td align="right">Biology</td>
</tr>
<tr>
<td>3</td>
<td align="center">Claire</td>
<td align="right">English</td>
</tr>
<tr>
<td>4</td>
<td align="center">Jack</td>
<td align="right">Biology</td>
</tr>
<tr>
<td>5</td>
<td align="center">Mike</td>
<td align="right">Comp. Sci</td>
</tr>
<tr>
<td></td>
<td align="center"></td>
<td align="right"></td>
</tr>
</tbody></table>
<blockquote>
<p>Though there are two Jacks and they both major in Biology, we can use <code>primary key</code>, namely the <strong>student id</strong>, to identify them.</p>
</blockquote>
<h1 id="Structured-Query-Language-SQL"><a href="#Structured-Query-Language-SQL" class="headerlink" title="Structured Query Language(SQL)"></a>Structured Query Language(SQL)</h1><ul>
<li>SQL is a language used for interacting with Relational Database Management Systems(RDBMS)<ul>
<li>You can use <code>SQL</code> to get the RDBMS to do things for you. <ul>
<li>Create, retrieve, update &amp; delete data</li>
<li>Create &amp; manage databases</li>
<li>Design &amp; create databases tables</li>
<li>Perform administration tasks(security, user management, import/export, etc) </li>
</ul>
</li>
<li>SQL implementations cary between systems<ul>
<li>Not all RDBMS’ follow the SQL standard to a <code>T</code></li>
<li>The concepts are the same but the implementation may vary</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Structured-Query-Language-SQL-Hybrid-language"><a href="#Structured-Query-Language-SQL-Hybrid-language" class="headerlink" title="Structured Query Language(SQL) _ Hybrid language"></a>Structured Query Language(SQL) _ Hybrid language</h2><p>SQL is actually a <strong>hybrid language</strong>, it’s basically 4 types of languages in one</p>
<h3 id="Data-Query-Language-DQL"><a href="#Data-Query-Language-DQL" class="headerlink" title="Data Query Language (DQL)"></a>Data Query Language (DQL)</h3><ul>
<li>Used to query the database for information</li>
<li>Get information that is already stored there</li>
</ul>
<h3 id="Data-Definition-Language-DDL"><a href="#Data-Definition-Language-DDL" class="headerlink" title="Data Definition Language (DDL)"></a>Data Definition Language (DDL)</h3><ul>
<li>Used for defining database schemas</li>
</ul>
<h3 id="Data-Control-Language-DCL"><a href="#Data-Control-Language-DCL" class="headerlink" title="Data Control Language (DCL)"></a>Data Control Language (DCL)</h3><ul>
<li>Used for controlling access to the data in the database.</li>
<li>User &amp; permissions managemnet</li>
</ul>
<h3 id="Data-Manipulation-Language-DML"><a href="#Data-Manipulation-Language-DML" class="headerlink" title="Data Manipulation Language (DML)"></a>Data Manipulation Language (DML)</h3><ul>
<li>Used for inserting, updating and deleting data from the databases</li>
</ul>
<h1 id="Queries"><a href="#Queries" class="headerlink" title="Queries"></a>Queries</h1><p>A query is a set of instructions given to the RDBMS(written is SQL) that tell the RDBMS what information you want it to retrieve for you.</p>
<ul>
<li>Tons of data in a DB</li>
<li>Often hidden in a complex schema</li>
<li>Goal is only get the data you need</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee.name, employee.age</span><br><span class="line"><span class="keyword">FROM</span> employee</span><br><span class="line"><span class="keyword">WHERE</span> employee.salary <span class="operator">&gt;</span> <span class="number">30000</span>;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/10/MultiThread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/10/MultiThread/" class="post-title-link" itemprop="url">MultiThread</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-10 01:06:16" itemprop="dateCreated datePublished" datetime="2020-06-10T01:06:16+09:00">2020-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-15 23:28:48" itemprop="dateModified" datetime="2020-07-15T23:28:48+09:00">2020-07-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="How-Cherno-explain-about-Thread"><a href="#How-Cherno-explain-about-Thread" class="headerlink" title="How Cherno explain about Thread"></a>How Cherno explain about Thread</h1><blockquote>
<p>How we could do multi-thread(parallel computating)</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">bool</span> s_Finished = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoWork</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!s_Finished)&#123;</span><br><span class="line">        std::cout&lt;&lt;<span class="string">&quot;Working....&quot;</span>&lt;&lt;std::<span class="built_in">endl</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">std::thread <span class="title">worker</span><span class="params">(DoWork)</span></span>; <span class="comment">//pass as Function pointer</span></span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">    s_Finished = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    worker.<span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line">    std::cin.<span class="built_in">get</span>(); <span class="comment">// this line will wait until the threads(worker) joined.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Here we want program to do two things at the same time.</p>
<ol>
<li>keep printing <code>Working....</code></li>
<li>receive the <code>cin.get()</code> from user, once get something from the user <code>s_Finished = true</code></li>
</ol>
<p><a target="_blank" rel="noopener" href="http://www.cplusplus.com/reference/thread/thread/join/">thread::join</a></p>
<p>The behavior will be like this<br><img src="/uploads/Thread2.gif" alt="idea"></p>
<p>However we might not want to let one single thread occupy whole CPU resource, we can use <code>std::this_thread::sleep_for(1s)</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">bool</span> s_Finished = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DoWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">using</span> <span class="keyword">namespace</span> std::literals::chrono_literals;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Started thread id=&quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line">	<span class="keyword">while</span> (!s_Finished) &#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;Working...\n&quot;</span>;</span><br><span class="line">		std::this_thread::<span class="built_in">sleep_for</span>(<span class="number">1</span>s); <span class="comment">//sleep for a second</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="function">std::thread <span class="title">worker</span><span class="params">(DoWork)</span></span>;</span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">	s_Finished = <span class="literal">true</span>;</span><br><span class="line">	worker.<span class="built_in">join</span>(); <span class="comment">//await in C#</span></span><br><span class="line"></span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Finished\n&quot;</span>;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Started thread id=&quot;</span> &lt;&lt; std::this_thread::<span class="built_in">get_id</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">	std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The demo of code above.<br><img src="/uploads/Thread3.gif" alt="idea"><br>Can notice that two <code>std::this_thread::get_id()</code> are different, cuz they are on the different threads.</p>
<h1 id="How-we-could-implement-multi-thread-in-Grasshopper"><a href="#How-we-could-implement-multi-thread-in-Grasshopper" class="headerlink" title="How we could implement multi-thread in Grasshopper"></a>How we could implement multi-thread in Grasshopper</h1><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=J6CwUuto9QA&list=PLIfg3sUCgQXDBRK478d6PwxX0IBdgkLE4&index=7&t=13s">Grasshopper Tutorial</a></p>
<p>Like this tutorial shown, we can use</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.Threading.Tasks.Parallel.For(<span class="number">0</span>, loopCount, i =&gt;&#123; &#123;</span><br><span class="line">    <span class="comment">//for loop body</span></span><br><span class="line">&#125;&#125;);</span><br></pre></td></tr></table></figure>
<p>instead of using <strong>regular for-loop</strong> to achieve multi-thread.</p>
<h2 id="unsafe-problem-and-how-to-tackle-it"><a href="#unsafe-problem-and-how-to-tackle-it" class="headerlink" title="unsafe problem and how to tackle it"></a>unsafe problem and how to tackle it</h2><p>This is the part I might not fully understand, and you are welcome to correct me. Thanks.<br>Seems simply use multi_thread with <code>List</code>, like the example in tutorial, is not safe.<br>Means multi-thread cannot merge to the List in the order correctly. As a result, this cause some data lost.</p>
<h3 id="How-we-can-tackle-this-problem"><a href="#How-we-can-tackle-this-problem" class="headerlink" title="How we can tackle this problem"></a>How we can tackle this problem</h3><ol>
<li>We can use <code>lock</code> syntax to ensure the action of <strong>List</strong></li>
<li>We use regular <code>array</code> instead of <strong>List</strong></li>
</ol>
<p>Here are the codes.</p>
<h4 id="Lock"><a href="#Lock" class="headerlink" title="Lock"></a>Lock</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">List&lt;Point3d&gt; startPts, <span class="built_in">object</span> y, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    List&lt;Point3d&gt; ptList = <span class="keyword">new</span> List&lt;Point3d&gt;();</span><br><span class="line">    <span class="comment">//for(int i = 0;i &lt; startPts.Count; i++)</span></span><br><span class="line">    System.Threading.Tasks.Parallel.For(<span class="number">0</span>, startPts.Count, i =&gt; &#123;</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//Declare out agent location</span></span><br><span class="line">        Point3d agentLoc = startPts[i];</span><br><span class="line">        <span class="comment">//Add agents to ptLists</span></span><br><span class="line">        <span class="keyword">lock</span>(ptList)&#123;</span><br><span class="line">          ptList.Add(agentLoc);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    A = ptList;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="array"><a href="#array" class="headerlink" title="array"></a>array</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">RunScript</span>(<span class="params">List&lt;Point3d&gt; startPts, <span class="built_in">object</span> y, <span class="keyword">ref</span> <span class="built_in">object</span> A</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//List&lt;Point3d&gt; ptList = new List&lt;Point3d&gt;();</span></span><br><span class="line">    Point3d[] ptList = <span class="keyword">new</span> Point3d[startPts.Count];</span><br><span class="line">    <span class="comment">//for(int i = 0;i &lt; startPts.Count; i++)</span></span><br><span class="line">    System.Threading.Tasks.Parallel.For(<span class="number">0</span>, startPts.Count, i =&gt; &#123;</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">//Declare out agent location</span></span><br><span class="line">        Point3d agentLoc = startPts[i];</span><br><span class="line">        <span class="comment">//Add agents to ptLists</span></span><br><span class="line">        ptList[i] = agentLoc;</span><br><span class="line">      &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    A = ptList;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="Rhino-Official-Documents-General-Overview"><a href="#Rhino-Official-Documents-General-Overview" class="headerlink" title="Rhino Official Documents_General Overview"></a>Rhino Official Documents_General Overview</h1><p><a target="_blank" rel="noopener" href="https://developer.rhino3d.com/guides/grasshopper/multi-treaded-components/">multi-thread</a></p>
<h1 id="Rhino-Official-Documents-Developer"><a href="#Rhino-Official-Documents-Developer" class="headerlink" title="Rhino Official Documents_Developer"></a>Rhino Official Documents_Developer</h1><p><a target="_blank" rel="noopener" href="https://developer.rhino3d.com/guides/grasshopper/programming-task-capable-component/">Task Capable Component</a></p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>Grasshopper for Rhino6 allows you to develop mult-threaded components by way of the new <code>IGH_TaskCapableComponent</code> interface. Benchmarks have shown that Grasshopper can run <strong>significantly faster</strong> when using multi-threaded components. Results may vary, <strong>as not all solutions can be compute in parallel</strong></p>
<h2 id="The-Interface"><a href="#The-Interface" class="headerlink" title="The Interface"></a>The Interface</h2><p>When a component implement the <code>IGH_TaskCapableComponent</code> interface, Grasshopper will notice and potentially call a <strong>full enumeration</strong> of <code>SolveInstance</code> for the component twice in consecutive passes:</p>
<ol>
<li>The first pass is for collecting data and starting tasks to compute result</li>
<li>The second pass is for using the results from the tasks to sets outputs.</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://discourse.mcneel.com/t/v6-feature-multi-threaded-gh-components/47049">https://discourse.mcneel.com/t/v6-feature-multi-threaded-gh-components/47049</a></p>
<p>I found that there are some Rhino official posts talk about <code>mult-threaded</code> in grasshopper.<br>From User interface, if you see the component has two grey dots on its upper-left corner, means that component support mult-threaded computation(<code>parallel computing</code>).</p>
<p>Still working on…. <code>To be continue</code></p>
<p>(James_Ramsden_Multithreading)[<a target="_blank" rel="noopener" href="http://james-ramsden.com/multithreading-a-foreach-loop-in-a-grasshopper-components-in-c/]">http://james-ramsden.com/multithreading-a-foreach-loop-in-a-grasshopper-components-in-c/]</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchihyuan.github.io/2020/06/09/FunctionPointerC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JimYuan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JimYuan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/09/FunctionPointerC/" class="post-title-link" itemprop="url">FunctionPointerC++</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-09 22:55:25" itemprop="dateCreated datePublished" datetime="2020-06-09T22:55:25+09:00">2020-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-10 00:34:34" itemprop="dateModified" datetime="2020-06-10T00:34:34+09:00">2020-06-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=p4sDgQ-jao4">Recource Video</a><br>Thanks for the youtube channel, <code>The Cherno</code>. This post is basically a note I take to remind me what <code>Function Pointer</code> is about.</p>
<p><code>Function Pointer</code> is a way to assign pointer to a variable.</p>
<blockquote>
<p>Pass a function as a parameter. </p>
</blockquote>
<h1 id="The-usual-way-about-function"><a href="#The-usual-way-about-function" class="headerlink" title="The usual way about function"></a>The usual way about function</h1><p>The implementation of a regular function should look like.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HelloWorld</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt; <span class="string">&quot;Hello World!&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">HelloWorld</span>();</span><br><span class="line">    std::cin.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The result should be like<br><img src="/uploads/HelloWorld.JPG" alt="idea"></p>
<h2 id="What-if-we-try-to-use-auto-key-for-this-function"><a href="#What-if-we-try-to-use-auto-key-for-this-function" class="headerlink" title="What if we try to use auto key for this function?"></a>What if we try to use auto key for this function?</h2><p><img src="/uploads/auto1.JPG" alt="idea"><br>then you will see an error at the <code>auto</code>.<br>That is because what <code>HelloWorld()</code> return is a <code>void</code>.</p>
<p>But what if we do like this. <code>auto function = HelloWorld</code><br><img src="/uploads/auto2.JPG" alt="idea"><br>then the error disapper.<br>This is because <code>HelloWorld</code> now return a <code>Function Pointer</code> instead of <code>void</code>.<br>so if we try to print the variable function in the next line, we will get the pointer of the <code>HelloWorld</code> function.<br><img src="/uploads/auto3.JPG" alt="idea"><br><img src="/uploads/functionPointer_result1.JPG" alt="idea"><br>Due to the implicitly conversion,</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> function = HelloWorld;</span><br><span class="line"><span class="comment">//much the same as </span></span><br><span class="line"><span class="keyword">auto</span> function = &amp;HelloWorld;</span><br></pre></td></tr></table></figure>
<h2 id="What-Function-Pointer-is-about"><a href="#What-Function-Pointer-is-about" class="headerlink" title="What Function Pointer is about"></a>What Function Pointer is about</h2><blockquote>
<p>Functions are of course just CPU instructions, and they are stored in somewhere in our binary/executable file.</p>
</blockquote>
<p>Find the <code>Hello World</code> function inside the CPU instruction and give it a <code>pointer</code>, to remember the location of this function code.</p>
<p><img src="/uploads/CallFunctionTwice.JPG" alt="idea"><br><img src="/uploads/functionPointer_result2.JPG" alt="idea"></p>
<p>so here we can assign a function to a varible.</p>
<blockquote>
<p>But what type is this <code>auto</code> actually?</p>
</blockquote>
<p>Here the auto hold the type write like</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in"><span class="keyword">void</span></span>(*function)()</span><br></pre></td></tr></table></figure>

<p><code>void(*)()</code> is the type eventually, but since we have to get it a name so it became <code>void(*function)()</code>.<br>It works with any other name.(Like I named it jim here)<br><img src="/uploads/functionPointer_result3.JPG" alt="idea"></p>
<p>Becauce this syntax is kinda confusing, programmer tend to either </p>
<ul>
<li>use <code>auto</code>, like what we did above </li>
<li>use <code>typedef</code>/<code>using</code> it</li>
</ul>
<p><img src="/uploads/functionPointer_result4.JPG" alt="idea"><br>Here we make HelloWorld function require one <code>int</code> parameter<br><img src="/uploads/functionPointer_result5.JPG" alt="idea"></p>
<h1 id="Back-to-programmer-want-to-use-function-pointer-in-the-first-place"><a href="#Back-to-programmer-want-to-use-function-pointer-in-the-first-place" class="headerlink" title="Back to programmer want to use function pointer in the first place"></a>Back to programmer want to use function pointer in the first place</h1><blockquote>
<p>Programmers can pass one function to another function as a variable.</p>
</blockquote>
<p><img src="/uploads/functionPointer_result6.JPG" alt="idea"></p>
<p>Here this code also show how to use <code>lambda function</code> instead of writing out the full function body.</p>
<p>Reference: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=p4sDgQ-jao4">Cherno’s video</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JimYuan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JimYuan</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
